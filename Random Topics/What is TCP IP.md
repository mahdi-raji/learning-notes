https://youtu.be/PpsEaqJV_A0?si=QvhUIh6kU9lWnkKU

ูุฏู TCP/IP ูุซู ฺฉ ฺฉฺฉ ูุงูโุงู ฺฉู ุฏุงุฏูโูุง ูุฑุญููโุจูโูุฑุญูู ุงุฒ ุจุงูุง ุชุง ูพุงู ุชู ูุฑ ูุงู ูพุฑุฏุงุฒุด ูโุดู ู ุจุนุฏ ุงุฑุณุงู ูโุดู.

![](attachments/Pasted%20image%2020250622223132.png)

## Application Layer

ฺ ูุณุชุ
ุฌุงู ฺฉู ุจุฑูุงููโูุง ูุงูุน (ูุซู ูุฑูุฑฺฏุฑุ ุงููุ ฺุช) ฺฉุงุฑ ูโฺฉูู.

ูุซุงู ูพุฑูุชฺฉูโูุง:

- HTTP (ุจุฑุง ูุจ)

- SMTP (ุจุฑุง ุงูู)

- FTP (ุจุฑุง ูุงู)
```CSharp
HttpClient client = new HttpClient(); 
var response = await client.GetAsync("http://example.com");
```
- ูโุฑู ุชู ูุงูโูุง ูพุงูโุชุฑ:
ูู HttpClient ุฎูุฏุด ูุณุชูู ุจุง ุดุจฺฉู ฺฉุงุฑ ููโฺฉูู. ุจู ู ุณุฑ ฺฉุฏูุง ูุงู ุชู .NET (ูุซู SocketsHttpHandler) ูุตู ูโุดู.
ุงู ฺฉุฏูุง ุฏุฑุฎูุงุณุช ุฑู ุจู ุฒุจูู ุณุงุฏูโุชุฑ ุจุฑุง ุณุณุชูโุนุงูู ุชุฑุฌูู ูโฺฉูู.
- ุฑุณุฏู ุจู Socket API:
ุชู ุงู ูุฑุญููุ SocketsHttpHandler ุงุฒ Socket (ู ุงุจุฒุงุฑ ุชู .NET) ุงุณุชูุงุฏู ูโฺฉูู. Socket ุจู ุณุณุชูโุนุงูู ูโฺฏู: "ู ุงุชุตุงู TCP ุจุณุงุฒุ ุฏุงุฏู ุฑู ุจูุฑุณุช ุจู ููุงู ุขุฏุฑุณ (ูุซู example.com) ู ูพูุฑุช (ูุซู 80)."
ููฺูู ุชู ุงู ุณุทุญ Http Header ูุง ุณุงุฎุชู ูุดู.
ุฏุฑ ูุงูุน http header ุงุทูุงุนุงุชู ฺฉู ุจุฑุง ุงุฑุชุจุงุท ุจู ุจุฑูุงููโูุง (ูุซู ูุฑูุฑฺฏุฑ ู ูุจโุณุฑูุฑ) ุงุณุชูุงุฏู ูโุดู. ุงู ูุฏุฑูุง ุจุฎุด ุงุฒ ูพุฑูุชฺฉู HTTP ูุณุชู ู ูุดุฎุต ูโฺฉูู ุฏุฑุฎูุงุณุช ุง ูพุงุณุฎ ฺุทูุฑ ุจุงุฏ ูพุฑุฏุงุฒุด ุจุดู.
ูุญุชูุงุ ุดุงูู ฺุฒุง ูุซู:
Host: example.com (ุขุฏุฑุณ ุณุฑูุฑ)
User-Agent: Mozilla/5.0 (ููุน ูุฑูุฑฺฏุฑ)
Content-Type: text/html (ููุน ุฏุงุฏู)
Accept: application/json (ูุฑูุชโูุง ูุงุจู ูุจูู)

DATA
## Transport Layer
ุงูุฌุง ู ุฌูุฑุง ุงฺฏู ุฏุฑุฎูุงุณุช ุจุฒุฑฺฏ ุจุงุดู ฺฉูฺฺฉุชุฑ ูุดู ู ุจู ูพฺฉุช ูุง ฺฉูฺฺฉ ุชูุณู ูุดู ฺฉู ุงุฒ Sequence number ุชู ูุฏุฑุด ุชุฑุชุจุดูู ูุดุฎุต ูุดู.
 ุชู ุฏุงุฑ ุจู ฺฉุฑูู ุณุณุชูโุนุงูู ุฏุณุชูุฑ ูโุฏ ฺฉ ุงุชุตุงู TCP ุจุณุงุฒู.
```C  
 int sock = socket(AF_INET, SOCK_STREAM, 0);
connect(sock, ...);
send(sock, data, ...);

```
ู ููู ฺฉุงุฑ ูุง ุฑู ุฎูุฏุด ุงูุฌุงู ูุฏู .

| ููุฏ                      | ุณุงุฒ   | ุชูุถุญ                                                                                                                                                                                                                                                                                                                         |
| ------------------------- | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Source Port**           | 16 ุจุช | ุดูุงุฑู ูพูุฑุช ูุฑุณุชูุฏู                                                                                                                                                                                                                                                                                                            |
| **Destination Port**      | 16 ุจุช | ุดูุงุฑู ูพูุฑุช ฺฏุฑูุฏู (ูุซูุงู 80 ุจุฑุง HTTP)                                                                                                                                                                                                                                                                                        |
| **Sequence Number**       | 32 ุจุช | ุดูุงุฑู ุชุฑุชุจ ุงู segment (ุจุฑุง ูุฑุชุจโุณุงุฒ)                                                                                                                                                                                                                                                                                      |
| **Acknowledgment Number** | 32 ุจุช | ุดูุงุฑูโุง ฺฉู ูุดูู ูโุฏู ุชุง ฺฉุฌุง ุงุฒ ุทุฑู ููุงุจู ุฑู ุฏุฑุงูุช ฺฉุฑุฏูโุงู                                                                                                                                                                                                                                                                 |
| **Flags**                 | 9 ุจุช  | ูพุฑฺูโูุง ฺฉูุชุฑู ุจุฑุง ูุฏุฑุช ุงุชุตุงู:<br>- CWR: ฺฉุงูุด ุงุฒุฏุญุงู (Congestion Window Reduced)<br>- ECE: ูุดุงูฺฏุฑ ุงุฒุฏุญุงู (ECN-Echo)<br>- URG: ุฏุงุฏู ููุฑ (Urgent)<br>- ACK: ุชุฃุฏ ุฏุฑุงูุช (Acknowledgment)<br>- PSH: ุฏุฑุฎูุงุณุช ุงุฑุณุงู ุณุฑุน ุฏุงุฏู ุจู ุงูพูฺฉุดู<br>- RST: ุฑุณุช ฺฉุฑุฏู ุงุชุตุงู<br>- SYN: ุดุฑูุน ุงุชุตุงู (Synchronize)<br>- FIN: ูพุงุงู ุงุชุตุงู |
| **Window Size**           | 16 ุจุช | ุงูุฏุงุฒู ูพูุฌุฑู ุฏุฑุงูุช (ููุฏุงุฑ ุฏุงุฏูโุง ฺฉู ฺฏุฑูุฏู ูโุชููู ูุจูู ฺฉูู).                                                                                                                                                                                                                                                               |
| **Checksum**              | 16 ุจุช | ุจุฑุง ุจุฑุฑุณ ุตุญุช ูุฏุฑ ู ุฏุงุฏู (ุชุดุฎุต ุฎุทุง ุชู ุงูุชูุงู).                                                                                                                                                                                                                                                                              |
|                           |        |                                                                                                                                                                                                                                                                                                                               |
- **Flags**:
    - ุงู ูพุฑฺูโูุง ุจุฑุง ฺฉูุชุฑู ุงุชุตุงู TCP ุฎู ููู ูุณุชู. ูุซูุงู:
        - **SYN** ู **ACK** ุชู Three-Way Handshake ุงุณุชูุงุฏู ูโุดู.
        - **FIN** ุจุฑุง ุจุณุชู ุงุชุตุงู.
        - **RST** ุจุฑุง ุฑุณุช ฺฉุฑุฏู ุงฺฏู ูุดฺฉู ูพุด ุจุงุฏ.
        - **PSH** ุจู ฺฏุฑูุฏู ูโฺฏู ุฏุงุฏู ุฑู ุณุฑุน ุจู ุงูพูฺฉุดู ุจุฏู.
ู ...


### Three Way Handshake
![](attachments/Pasted%20image%2020250622234837.png)
**ูุฑุญูู ุงูู** ฺฉูุงูุช ุจู ุณุฑูุฑ ุจุง ููฺฏ SYN ู ุฏุฑุฎูุงุณุช ููุฑุณุชู ฺฉู ูู ูุฎูุงู ุจู ุชู ุฑฺฉูุฆุณุช ุจุฒูู ุงูุฌุง ุจุฑ ูุฑุถ :
ุชู ุงู Segment:

- **Source Port**: ู ูพูุฑุช ุชุตุงุฏู (ูุซู 49320)
- **Destination Port**: ูพูุฑุช ุณุฑูุฑ (ูุซู 80 ุจุฑุง HTTP)
- **Sequence Number**: ู ุดูุงุฑู ุงููู ุชุตุงุฏู (ูุซู 1000) ฺฉู ฺฉูุงูุช ุงูุชุฎุงุจ ูโฺฉูู.
- **Flags**: ููุท SYN ูุนุงูู.
ุชู **ูุฑุญูู ุฏูู** ุณุฑูุฑ ุฏุฑุงูุช ูฺฉูู ู ูฺฏู ุงูฺฉู ูู ุงูุงุฏู :
- ุณุฑูุฑ Segment ฺฉูุงูุช ุฑู ุฏุฑุงูุช ูโฺฉูู ู ุฌูุงุจ ูโุฏู ุจุง ู TCP Segment ฺฉู ูพุฑฺูโูุง **SYN** ู **ACK** (Acknowledgment) ูุนุงูู.
- ุชู ุงู Segment:
- **Source Port**: ูพูุฑุช ุณุฑูุฑ (ูุซู 80)
-  **Destination Port**: ูพูุฑุช ฺฉูุงูุช (ูุซู 49320)
- **Sequence Number**: ู ุดูุงุฑู ุงููู ุชุตุงุฏู ุจุฑุง ุณุฑูุฑ (ูุซู 5000)
- **Acknowledgment Number**: ุดูุงุฑู ุจุนุฏ ฺฉู ุณุฑูุฑ ุงุฒ ฺฉูุงูุช ุงูุชุธุงุฑ ุฏุงุฑู (1000 + 1 = 1001
-  **Flags**: SYN ู ACK ูุนุงูู.)
**ูุฑุญูู ุณูู** ฺฉูุงูุช ุจู ุณุฑูุฑ ูฺฏู ุญูู ููู ุขูุงุฏู ู ุชููู.
- ฺฉูุงูุช Segment ุณุฑูุฑ ุฑู ูโฺฏุฑู ู ู TCP Segment ุจุง ูพุฑฺู **ACK** ูโูุฑุณุชู.
- ุชู ุงู Segment:
- **Source Port**: ูพูุฑุช ฺฉูุงูุช (49320)    
- **Destination Port**: ูพูุฑุช ุณุฑูุฑ (80)
- **Sequence Number**: ูููู ุดูุงุฑู ุจุนุฏ ฺฉูุงูุช (1001)    
- **Acknowledgment Number**: ุดูุงุฑู ุจุนุฏ ฺฉู ฺฉูุงูุช ุงุฒ ุณุฑูุฑ ุงูุชุธุงุฑ ุฏุงุฑู (5000 + 1 = 5001)
- **Flags**: ููุท ACK ูุนุงูู.
ุฏุฑ ููุงุช ุจุนุฏ ุงุฒ handshake ุฏุฑุฎูุงุณุช ุฑู ุฏุฑุงูุช ูฺฉูู ู ุฏุฑุฎูุงุณุช HTTP ุฑู ุงุฒ ูุงู ุงูพูฺฉุดู ูฺฏุฑู ู ุจู TCP Segment ุชุจุฏู ูโฺฉูู.
ูุซุงู ฺฉู ุชุฑ:
[TCP Header]
โโโ Source Port: 49320
โโโ Destination Port: 80
โโโ Sequence Number: 1000
โโโ Acknowledgment Number: 5001
โโโ Flags: ACK, PSH
โโโ Window Size: 65535
โโโ Checksum: 0xABCD
โโโ Data: "GET / HTTP/1.1\r\n..."


๐ฆ ุงู ุฏุงุฏูโูุง ุจุนุฏ ุงุฒ ุงู ูุฑุญูู ูโุดู: TCP Segment
TCP Header + Data

## Internet Layer 
Ip Header:
ูุงู ุงูุชุฑูุช ูุณุฆูู ุงูู ฺฉู ุฏุงุฏูโูุง (ูุซู TCP Segment) ุฑู ุงุฒ ู ุฏุณุชฺฏุงู ุจู ุฏุณุชฺฏุงู ุฏฺฏู ุชู ุดุจฺฉู ุจูุฑุณุชูุ ุญุช ุงฺฏู ุชู ุดุจฺฉูโูุง ูุฎุชูู ุจุงุดู. ุงูุฌุง ูพุฑูุชฺฉู ุงุตู IP (Internet Protocol) ูุณุช ฺฉู ุขุฏุฑุณโุฏู ู ุฑูุชูฺฏ ุฑู ูุฏุฑุช ูโฺฉูู. ุชู ุงู ูุงูุ TCP Segment ุจู IP Datagram ุชุจุฏู ูโุดู ู ุขูุงุฏู ูโุดู ุจุฑุง ุณูุฑ ุชู ุดุจฺฉู.

| ููุฏ            | ุชูุถุญ                                                              |
| --------------- | ------------------------------------------------------------------ |
| Version         | ูุณุฎู ูพุฑูุชฺฉู (ูุซูุงู IPv4 ุง IPv6)                                   |
| Source IP       | ุขุฏุฑุณ ุขโูพ ูุฑุณุชูุฏู                                                 |
| Destination IP  | ุขุฏุฑุณ ุขโูพ ููุตุฏ                                                    |
| TTL             | ฺูุฏุฑ ุฒูุฏู ุจูููู (ูุซู ุดูุงุฑูุฏู)                                      |
| Protocol        | ูุซูุงู 6 ุจุฑุง TCP ุง 17 ุจุฑุง UDP                                    |
| Header Checksum | ุจุฑุฑุณ ุตุญุช ุณุฑุจุฑฺฏ IP                                                 |
| Flags           | ูพุฑฺูโูุง ุจุฑุง Fragmentation (ูุซู Donโt Fragment ุง More Fragments). |
ุญุงูุง ุจุงุฏ Routing ูุดุฎุต ุจุดู ฺฉู ูพฺฉุช ฺฉุฌุง ุจุฑู.
ุงุฒ ุทุฑู ุฌุฏูู ุฑูุช ุฏุฑ ุณุณุชู ุนุงูู ุงฺฏู ููุตุฏ ุฏุงุฎู ุดุจฺฉู ูุญู ุจูุฏ ุจุงุฏ ูุณุชูู ุจู Mac ููุตุฏ ุจุฑู ู ุงฺฏู ูู ุจู ู Gateway ูุฑุณุชุงุฏู ุจุดู. ุชุง ุงูุฌุง ูุนูุง ููู ฺุฒ ุชู ฺฉุฑููู ูู ุขูุงุฏู ุงุณุช ฺฉู ุจุฑู ุชู ุดุจฺฉู.

Destination IP (ุขุฏุฑุณ IP ููุตุฏ):
ุงู ุขุฏุฑุณ IP ุฏุณุชฺฏุงู ฺฉู ูโุฎูุง ุจุงูุงุด ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉู (ูุซู ุณุฑูุฑ example.com).
ุงู ุขุฏุฑุณ ูุนูููุงู ุงุฒ ูุงู ุงูพูฺฉุดู ูุงุฏ. ูุซูุงู:
ููุช ุชู ูุฑูุฑฺฏุฑุช example.com ุฑู ูุงุฑุฏ ูโฺฉูุ ูุงู ุงูพูฺฉุดู ู ุฏุฑุฎูุงุณุช HTTP ูโุณุงุฒู.
ุณุณุชูโุนุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ DNS (Domain Name System) ุงุณู ุฏุงููู (example.com) ุฑู ุจู ู ุขุฏุฑุณ IP (ูุซู 93.184.216.34) ุชุจุฏู ูโฺฉูู.
ุงู ุขุฏุฑุณ IP ุชู ููุฏ Destination IP ุชู IP Header ูุฑุงุฑ ูโฺฏุฑู.
ุงฺฏู ุจุฑูุงูู ูุณุชููุงู ู ุขุฏุฑุณ IP (ูู ุงุณู ุฏุงููู) ุจุฏู (ูุซู 93.184.216.34)ุ ูููู ูุณุชูู ุชู IP Header ูุฑู.
ูุฑุถ ฺฉู ูโุฎูุง example.com ุฑู ุชู ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉู:

1. ุชู ูุงู ุงูพูฺฉุดูุ ูุฑูุฑฺฏุฑุช ุฏุฑุฎูุงุณุช HTTP ูโุณุงุฒู ู example.com ุฑู ุจู DNS ูโูุฑุณุชู.
2. ุญุงูุง DNS ุฌูุงุจ ูโุฏู ฺฉู example.com ูุนุงุฏู 93.184.216.34ู.
3. ุชู ูุงู ุชุฑูุณูพูุฑุชุ TCP ู Segment ูโุณุงุฒู (ูุซู [TCP Header][GET / HTTP/1.1]).
4. ุชู ูุงู ุงูุชุฑูุชุ ฺฉุฑูู ุณุณุชูโุนุงูู IP Header ุฑู ูโุณุงุฒู:
Source IP: ุขุฏุฑุณ IP ุฏุณุชฺฏุงูุช (ูุซู 192.168.1.10 ฺฉู ุงุฒ ุฑูุชุฑ ฺฏุฑูุช).
Destination IP: ุขุฏุฑุณ IP ุณุฑูุฑ (93.184.216.34 ุงุฒ DNS).
Protocol: 6 (ฺูู TCP ุงุณุชูุงุฏู ูโุดู).
TTL: ู ููุฏุงุฑ ูพุดโูุฑุถ (ูุซู 64).
Header Checksum: ูุญุงุณุจู ูโุดู ุจุฑุง ฺฺฉ ฺฉุฑุฏู ุฎุทุง.
## Data Link Layer
**ฺ ุชู ุงู ูุงู ุงุชูุงู ูโุงูุชูุ**
ูุงู ูพููุฏ ุฏุงุฏู: IP Datagram ุชู ูุฑู (ูุซู ุงุชุฑูุช) ูโุฑูุ MAC ูุจุฏุง (ฺฉุงุฑุช ุดุจฺฉู ูุฑุณุชูุฏู) ู MAC ููุตุฏ (ุฏุณุชฺฏุงู ุจุนุฏุ ูุซู ุฑูุชุฑ ุง ฺฏุฑูุฏู) ุงุถุงูู ูโุดูุ ุจุนูุงูู FCS ุจุฑุง ุฎุทุงุงุจ.
ู ุฏุฑ ููุงุช ุฏุฑ ูุงู ุจุนุฏ ฺฉู ูุงู ูุฒฺฉ ุจุงุดู ูุฑู ุจู ุจุช ู ุณฺฏูุงู ุชุจุฏู ูุดู ู ุชู ฺฉุงุจู ุง Wi-Fi ูุฑุณุชุงุฏู ูุดู.